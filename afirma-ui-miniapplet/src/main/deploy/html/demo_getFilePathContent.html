
<html> <!-- Ejemplo básico de lanzador de la aplicación -->
	<head>
		<script type="text/javascript" src="http://www.java.com/js/deployJava.js"></script>
		<script type="text/javascript" src="instalador.js"></script>
		<script type="text/javascript" src="constantes.js"></script>
		<script type="text/javascript">
			function getFileNameContent(asBase64) {
			
				var result;

				try {
				if (asBase64) {
					result = clienteFirma.getFileNameContentBase64("Seleccione un fichero", null, null);
				} else {
					result = clienteFirma.getFileNameContentText("Seleccione un fichero", null, null);
				}
				} catch(e) {
					document.getElementById("dataConsole").value = clienteFirma.getErrorMessage();
					return;
				}
				
				if (result == null) {
					return;
				}
			
				var i = result.indexOf('|');
				if (i == -1) {
					document.getElementById("path").value = result;
					return;
				}
				
				document.getElementById("path").value = result.substring(0, i);
				if ((i + 1) < result.length) {
					document.getElementById("dataConsole").value = result.substring(i + 1);
				}
			}
		</script>
	</head>
	<body>
		<script type="text/javascript">
			cargarMiniApplet();
		</script>
		<p>Cargamos el MiniApplet</p>
		
		<input type="button" value="Funcion getFileNameContentBase64" onclick="getFileNameContent(true);" />&nbsp;
		<input type="button" value="Funcion getFileNameContentText" onclick="getFileNameContent(false);" /><br/>
		<div>
		<label for="newParam">Ruta:</label><br/>
		<input id="path" type="text" />
		</div>
		<div>
		<label for="dataConsole">Datos</label><br/>
		<textarea id="dataConsole" rows="5" cols="120"></textarea>
		</div>
	</body>
</html>	